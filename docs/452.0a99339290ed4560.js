"use strict";(self.webpackChunkmtg_collection_tool=self.webpackChunkmtg_collection_tool||[]).push([[452],{5452:(V,_,l)=>{l.r(_),l.d(_,{NikkeModule:()=>L});var m=l(6895),s=l(4006),u=(()=>{return(a=u||(u={}))[a.CREDITS=1]="CREDITS",a[a.DATA_SETS=2]="DATA_SETS",a[a.CORE_DUSTS=3]="CORE_DUSTS",u;var a})();class p{constructor(o="",e="",n="",i="",r=new s.NI(0),c="",h="",d="",w=new s.NI(0)){this.headerName=o,this.leftInputLabel=e,this.leftIndentifier=n,this.leftPlaceholder=i,this.leftFormControl=r,this.rightInputLabel=c,this.rightIndentifier=h,this.rightPlaceholder=d,this.rightFormControl=w,this.headerName=o,this.leftInputLabel=e,this.leftIndentifier=n,this.leftPlaceholder=i,this.leftFormControl=r,this.rightInputLabel=c,this.rightIndentifier=h,this.rightPlaceholder=d,this.rightFormControl=w}}class y{constructor(o=0,e=0){this.totalMaterial=o,this.materialPerTime=e,this.totalMaterial=o,this.materialPerTime=e}}class D{constructor(o=0,e=0,n=0,i=0,r=0,c=0){this.seconds=o,this.minutes=e,this.hours=n,this.days=i,this.months=r,this.years=c,this.seconds=o,this.minutes=e,this.hours=n,this.days=i,this.months=r,this.years=c}toString(){return`${this.years>0?this.years+` year${1!==this.years?"s":""}, `:""}${this.months>0||this.years>0?this.months+` month${1!==this.months?"s":""}, `:""}${this.days>0||this.years>0||this.months>0?this.days+` day${1!==this.days?"s":""}, `:""}${this.hours>0||this.years>0||this.months>0||this.days>0?this.hours+` hour${1!==this.hours?"s":""}, `:""}${this.minutes>0||this.years>0||this.months>0||this.days>0||this.hours>0?this.minutes+` minute${1!==this.minutes?"s":""}, `:""}${this.seconds+` second${1!==this.seconds?"s":""}.`}`.trim()}}class T{constructor(o=1,e=0,n=0,i=1,r=1){this.materialType=o,this.materialQuantity=e,this.howManyCharactersNeedIt=n,this.timeUnit=i,this.timeType=r,this.materialType=o,this.materialQuantity=e,this.howManyCharactersNeedIt=n,this.timeUnit=i,this.timeType=r}}var A=l(9841),S=l(8372),t=l(4650),Z=l(4859),x=l(4850),R=l(7392);let M=(()=>{class a{constructor(){this.height=window.innerHeight,this.width=window.innerWidth}onResize(){this.height=window.innerHeight,this.width=window.innerWidth}ngOnInit(){}widthBiggerThan(e){return this.width>e}widthBiggerThanOrEqualTo(e){return this.width>=e}widthSmallerThan(e){return this.width<e}widthSmallerThanOrEqualTo(e){return this.width<=e}heightBiggerThan(e){return this.height>e}heightBiggerThanOrEqualTo(e){return this.height>=e}heightSmallerThan(e){return this.height<e}heightSmallerThanOrEqualTo(e){return this.height<=e}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["base"]],hostBindings:function(e,n){1&e&&t.NdJ("resize",function(r){return n.onResize(r)},!1,t.Jf7)},decls:2,vars:0,template:function(e,n){1&e&&(t.TgZ(0,"p"),t._uU(1,"base works!"),t.qZA())}}),a})();const I=[{value:u.CREDITS,name:"Credits"},{value:u.DATA_SETS,name:"Data Set"},{value:u.CORE_DUSTS,name:"Core Dust"}];var N=l(3238),g=l(9549),v=l(4144),C=l(8255),O=l(4385);function U(a,o){if(1&a&&(t.TgZ(0,"mat-option",10),t._uU(1),t.qZA()),2&a){const e=o.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.name)}}function k(a,o){if(1&a){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",11)(2,"mat-icon"),t._uU(3,"more_vert"),t.qZA()(),t.TgZ(4,"mat-menu",null,12)(6,"button",13),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.duplicateAction())}),t.TgZ(7,"mat-icon"),t._uU(8,"content_copy"),t.qZA(),t._uU(9,"Duplicate Row"),t.qZA(),t.TgZ(10,"button",14),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.deleteAction())}),t.TgZ(11,"mat-icon"),t._uU(12,"delete"),t.qZA(),t._uU(13,"Delete Row"),t.qZA()(),t.BQk()}if(2&a){const e=t.MAs(5);t.xp6(1),t.Q6J("matMenuTriggerFor",e)}}function q(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"div",15)(1,"div",16)(2,"button",17),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.duplicateAction())}),t._uU(3,"Duplicate Row "),t.TgZ(4,"mat-icon"),t._uU(5,"content_copy"),t.qZA()(),t.TgZ(6,"button",18),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.deleteAction())}),t._uU(7,"Delete Row "),t.TgZ(8,"mat-icon"),t._uU(9,"delete"),t.qZA()()()()}}let b=(()=>{class a extends M{constructor(){super(),this.row=new s.cw({}),this.deleteRow=new t.vpe,this.duplicateRow=new t.vpe,this.materialOptions=I}deleteAction(){this.deleteRow.emit()}duplicateAction(){this.duplicateRow.emit()}getMaterialName(){const e=this.row.get("materialType")?.value,n=this.materialOptions.find(i=>i.value===e);return n?n.name:"resource units"}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["calculation-row"]],inputs:{row:"row"},outputs:{deleteRow:"deleteRow",duplicateRow:"duplicateRow"},features:[t.qOj],decls:21,vars:9,consts:[[1,"row","margin-top-16"],[1,"col-xs-6","col-md-3"],["appearance","outline",1,"width-100"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[1,"col-xs-6","col-md-5"],["matInput","","type","number",3,"formControl","placeholder"],[1,"col-xs-6","col-md-1","align-right"],[4,"ngIf","ngIfElse"],["mobileRow",""],[3,"value"],["mat-icon-button","","type","button",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","","color","primary",3,"click"],[1,"row"],[1,"col-12"],["mat-stroked-button","","type","button","color","accent",1,"margin-right-16",3,"click"],["mat-stroked-button","","type","button ","color","warn",3,"click"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),t._uU(4,"Select the Material"),t.qZA(),t.TgZ(5,"mat-select",3),t.YNc(6,U,2,2,"mat-option",4),t.qZA()()(),t.TgZ(7,"div",5)(8,"mat-form-field",2)(9,"mat-label"),t._uU(10),t.qZA(),t._UZ(11,"input",6),t.qZA()(),t.TgZ(12,"div",1)(13,"mat-form-field",2)(14,"mat-label"),t._uU(15,"Ammount of Characters to Level up"),t.qZA(),t._UZ(16,"input",6),t.qZA()(),t.TgZ(17,"div",7),t.YNc(18,k,14,1,"ng-container",8),t.qZA()(),t.YNc(19,q,10,0,"ng-template",null,9,t.W1O)),2&e){const i=t.MAs(20);t.xp6(5),t.Q6J("formControl",n.row.get("materialType")),t.xp6(1),t.Q6J("ngForOf",n.materialOptions),t.xp6(4),t.hij("Ammount of ",n.getMaterialName()," needed"),t.xp6(1),t.Q6J("formControl",n.row.get("materialQuantity"))("placeholder",n.getMaterialName()),t.xp6(5),t.Q6J("formControl",n.row.get("howManyCharactersNeedIt"))("placeholder","How many characters?"),t.xp6(2),t.Q6J("ngIf",n.widthBiggerThanOrEqualTo(768))("ngIfElse",i)}},dependencies:[m.sg,m.O5,s.Fj,s.wV,s.JJ,s.oH,N.ey,Z.lW,g.KE,g.hX,R.Hw,v.Nt,C.VK,C.OP,C.p6,O.gD],styles:[".delete-button[_ngcontent-%COMP%]{position:relative;top:18%}"]}),a})();var f=l(7084);let P=(()=>{class a{constructor(){this.headerData=new p}ngOnInit(){}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["resource-expansion-panel"]],inputs:{headerData:"headerData"},decls:15,vars:11,consts:[[1,"row"],[1,"col-xs-12","col-md-6"],["appearance","outline",1,"width-100"],["matInput","","type","number",3,"name","id","formControl","placeholder"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-expansion-panel")(1,"mat-expansion-panel-header")(2,"mat-panel-title"),t._uU(3),t.qZA()(),t.TgZ(4,"div",0)(5,"div",1)(6,"mat-form-field",2)(7,"mat-label"),t._uU(8),t.qZA(),t._UZ(9,"input",3),t.qZA()(),t.TgZ(10,"div",1)(11,"mat-form-field",2)(12,"mat-label"),t._uU(13),t.qZA(),t._UZ(14,"input",3),t.qZA()()()()),2&e&&(t.xp6(3),t.hij(" ",n.headerData.headerName," "),t.xp6(5),t.Oqu(n.headerData.leftInputLabel),t.xp6(1),t.Q6J("name",n.headerData.leftIndentifier)("id",n.headerData.leftIndentifier)("formControl",n.headerData.leftFormControl)("placeholder",n.headerData.leftPlaceholder),t.xp6(4),t.Oqu(n.headerData.rightInputLabel),t.xp6(1),t.Q6J("name",n.headerData.rightIndentifier)("id",n.headerData.rightIndentifier)("formControl",n.headerData.rightFormControl)("placeholder",n.headerData.rightPlaceholder))},dependencies:[s.Fj,s.wV,s.JJ,s.oH,f.ib,f.yz,f.yK,g.KE,g.hX,v.Nt]}),a})();function J(a,o){if(1&a&&(t.ynx(0),t.TgZ(1,"h3"),t._uU(2,"Credits"),t.qZA(),t.TgZ(3,"p"),t._uU(4),t.qZA(),t.BQk()),2&a){const e=t.oxw(2);t.xp6(4),t.Oqu(e.creditCalcResult)}}function H(a,o){if(1&a&&(t.ynx(0),t.TgZ(1,"h3"),t._uU(2,"Data Sets"),t.qZA(),t.TgZ(3,"p"),t._uU(4),t.qZA(),t.BQk()),2&a){const e=t.oxw(2);t.xp6(4),t.Oqu(e.dataSetsCalcResult)}}function E(a,o){if(1&a&&(t.ynx(0),t.TgZ(1,"h3"),t._uU(2,"Core Dust"),t.qZA(),t.TgZ(3,"p"),t._uU(4),t.qZA(),t.BQk()),2&a){const e=t.oxw(2);t.xp6(4),t.Oqu(e.coreDustCalcResult)}}function Q(a,o){if(1&a&&(t.TgZ(0,"div",3)(1,"h2"),t._uU(2,"Calculation Results"),t.qZA(),t._UZ(3,"mat-divider"),t.TgZ(4,"div",11),t.YNc(5,J,5,1,"ng-container",12),t.qZA(),t.TgZ(6,"div",11),t.YNc(7,H,5,1,"ng-container",12),t.qZA(),t.TgZ(8,"div",11),t.YNc(9,E,5,1,"ng-container",12),t.qZA(),t._UZ(10,"mat-divider"),t.qZA()),2&a){const e=t.oxw();t.xp6(5),t.Q6J("ngIf",""!==e.creditCalcResult),t.xp6(2),t.Q6J("ngIf",""!==e.dataSetsCalcResult),t.xp6(2),t.Q6J("ngIf",""!==e.coreDustCalcResult)}}function F(a,o){if(1&a&&(t.TgZ(0,"div",11),t._UZ(1,"resource-expansion-panel",13),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.Q6J("headerData",e)}}function B(a,o){if(1&a){const e=t.EpF();t.ynx(0),t.TgZ(1,"calculation-row",14),t.NdJ("deleteRow",function(){const r=t.CHM(e).index,c=t.oxw();return t.KtG(c.deleteRow(r))})("duplicateRow",function(){const r=t.CHM(e).index,c=t.oxw();return t.KtG(c.duplicateRow(r))}),t.qZA(),t.BQk()}if(2&a){const e=o.$implicit;t.xp6(1),t.Q6J("row",e)}}let $=(()=>{class a{constructor(){this.calculationRows=[],this.creditsPerMinute=new s.NI(0,[s.kI.min(1)]),this.creditsOwned=new s.NI(0),this.dataSetsPerMinute=new s.NI(0,[s.kI.min(1)]),this.dataSetsOwned=new s.NI(0),this.coreDustPerHour=new s.NI(0,[s.kI.min(1)]),this.coreDustOwned=new s.NI(0),this.creditCalcResult="",this.dataSetsCalcResult="",this.coreDustCalcResult="",this.resourceHeaders=[new p("Credits","Credits Per Minute","creditsPerMinute","How many credits per minute?",this.creditsPerMinute,"Credits Owned","creditsOwned","How many credits do you have?",this.creditsOwned),new p("Data Sets","Data Sets Per Minute","dataSetsPerMinute","How many data sets per minute?",this.dataSetsPerMinute,"Data Sets Owned","dataSetsOwned","How many data sets do you have?",this.dataSetsOwned),new p("Core Dust","Core Dust Per Hour","coreDustPerHour","How much core dust per hour?",this.coreDustPerHour,"Core Dust Owned","coreDustOwned","How core dust do you have?",this.coreDustOwned)],this.addRow(),(0,A.a)([this.creditsPerMinute.valueChanges,this.creditsOwned.valueChanges,this.dataSetsPerMinute.valueChanges,this.dataSetsOwned.valueChanges,this.coreDustPerHour.valueChanges,this.coreDustOwned.valueChanges]).pipe((0,S.b)(100)).subscribe()}ngOnInit(){}addRow(e){const n=e?new T(e.materialType,e.materialQuantity,e.howManyCharactersNeedIt):new T;this.calculationRows.push(new s.cw({materialType:new s.NI(n.materialType,s.kI.required),materialQuantity:new s.NI(n.materialQuantity,[s.kI.required,s.kI.min(1)]),howManyCharactersNeedIt:new s.NI(n.howManyCharactersNeedIt,[s.kI.required,s.kI.min(1)])}))}deleteAllRows(){this.calculationRows.splice(0,this.calculationRows.length),this.addRow()}deleteRow(e){this.calculationRows.splice(e,1),0===this.calculationRows.length&&this.addRow()}duplicateRow(e){this.addRow(this.calculationRows[e].value)}calculate(){const e=[];this.calculationRows.forEach(n=>{e.push(n.value)}),this.creditCalcResult=this.calculateMaterial(e,u.CREDITS,this.creditsPerMinute.value,this.creditsOwned.value),this.dataSetsCalcResult=this.calculateMaterial(e,u.DATA_SETS,this.dataSetsPerMinute.value,this.dataSetsOwned.value),this.coreDustCalcResult=this.calculateMaterial(e,u.CORE_DUSTS,this.coreDustPerHour.value,this.coreDustPerHour.value)}calculateMaterial(e,n,i,r){const c=e.filter(d=>d.materialType===n),h=new y(0,i);return this.gatherNeededAmmounts(h,c),h.totalMaterial-=r,this.calculateNeededAmmounts(h)}gatherNeededAmmounts(e,n){n.forEach(i=>{e.totalMaterial+=i.materialQuantity*i.howManyCharactersNeedIt})}calculateNeededAmmounts(e){if(e.materialPerTime>0&&e.totalMaterial>0){const n=Math.floor(e.totalMaterial/e.materialPerTime),i=Math.floor(n/60),r=Math.floor(i/24),c=Math.floor(r/30),h=Math.floor(c/12),d=c-12*h,w=r-30*c,j=i-24*r,G=n-60*i,W=Math.ceil((e.totalMaterial-n*e.materialPerTime)/(e.materialPerTime/60));return new D(W,G,j,w,d,h).toString()}return""}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["data-set-calculator"]],decls:30,vars:3,consts:[["class","row margin-top-16",4,"ngIf"],[1,"row","expansion-panel-height"],["class","col-xs-12 col-md-4 margin-top-16",4,"ngFor","ngForOf"],[1,"row","margin-top-16"],[1,"col-xs-6","col-md-6"],["mat-stroked-button","","type","button","color","warn",3,"click"],[1,"col-xs-6","col-md-6","align-right"],["mat-stroked-button","","type","button","color","accent",1,"margin-right-16",3,"click"],["mat-stroked-button","","type","button","color","primary",3,"click"],[4,"ngFor","ngForOf"],[1,"align-right","margin-top-16"],[1,"col-xs-12","col-md-4","margin-top-16"],[4,"ngIf"],[3,"headerData"],[3,"row","deleteRow","duplicateRow"]],template:function(e,n){1&e&&(t.TgZ(0,"h1"),t._uU(1,"Nikke Time Calculator"),t.qZA(),t.YNc(2,Q,11,3,"div",0),t.TgZ(3,"div",1),t.YNc(4,F,2,1,"div",2),t.qZA(),t.TgZ(5,"div",3)(6,"div",4)(7,"button",5),t.NdJ("click",function(){return n.deleteAllRows()}),t._uU(8,"Delete all rows "),t.TgZ(9,"mat-icon"),t._uU(10,"delete"),t.qZA()()(),t.TgZ(11,"div",6)(12,"button",7),t.NdJ("click",function(){return n.addRow()}),t._uU(13,"Add Row "),t.TgZ(14,"mat-icon"),t._uU(15,"add"),t.qZA()(),t.TgZ(16,"button",8),t.NdJ("click",function(){return n.calculate()}),t._uU(17,"Calculate "),t.TgZ(18,"mat-icon"),t._uU(19,"calculate"),t.qZA()()()(),t.YNc(20,B,2,1,"ng-container",9),t.TgZ(21,"div",10)(22,"button",7),t.NdJ("click",function(){return n.addRow()}),t._uU(23,"Add Row "),t.TgZ(24,"mat-icon"),t._uU(25,"add"),t.qZA()(),t.TgZ(26,"button",8),t.NdJ("click",function(){return n.calculate()}),t._uU(27,"Calculate "),t.TgZ(28,"mat-icon"),t._uU(29,"calculate"),t.qZA()()()),2&e&&(t.xp6(2),t.Q6J("ngIf",""!==n.creditCalcResult||""!==n.dataSetsCalcResult||""!==n.coreDustCalcResult),t.xp6(2),t.Q6J("ngForOf",n.resourceHeaders),t.xp6(16),t.Q6J("ngForOf",n.calculationRows))},dependencies:[m.sg,m.O5,Z.lW,x.d,R.Hw,b,P],styles:[".expansion-panel-height[_ngcontent-%COMP%]{min-height:174px}"]}),a})();var K=l(3060),Y=l(2613);const z=[{path:"",pathMatch:"full",redirectTo:"data-set-calculator"},{path:"data-set-calculator",component:$}];let L=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[m.ez,Y.m,K.Bz.forChild(z)]}),a})()}}]);